<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="Madsense.XamarinForms.Sample.Views.DetailPage"
    xmlns="http://xamarin.com/schemas/2014/forms"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:viewModels="clr-namespace:Madsense.XamarinForms.Sample.ViewModels;assembly=Madsense.XamarinForms.Sample"
    Title="Detail"
    x:DataType="{x:Type viewModels:DetailPageViewModel}">
    <Grid RowDefinitions="Auto, Auto, Auto, Auto, Auto, *">
        <Button
            Grid.Row="0"
            Command="{Binding CloseCommand}"
            Text="Back" />
        <Button
            Grid.Row="1"
            Command="{Binding NewItemsCommand}"
            Text="New Empty ItemsSource" />
        <Button
            Grid.Row="2"
            Command="{Binding PopulateItemsCommand}"
            Text="Populate ItemsSource" />
        <Button
            Grid.Row="3"
            Command="{Binding ClearItemsCommand}"
            Text="Clear ItemsSource" />
        <Button
            Grid.Row="4"
            Command="{Binding GarbageCollectCommand}"
            Text="Force GC" />
        <CollectionView Grid.Row="5" ItemsSource="{Binding Items}">
            <CollectionView.ItemTemplate>
                <DataTemplate x:DataType="{x:Type viewModels:ItemViewModel}">
                    <Label Text="{Binding Name}" />
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </Grid>
</ContentPage>